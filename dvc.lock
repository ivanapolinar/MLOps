schema: '2.0'
stages:
  preprocess:
    cmd: python src/data/make_dataset.py data/raw/steel_energy_modified.csv 
      data/clean/steel_energy_clean.csv
    deps:
    - path: data/raw/steel_energy_modified.csv
      hash: md5
      md5: 066018aa01ed991bf060cdfe01c15834
      size: 3157634
    - path: src/data/make_dataset.py
      hash: md5
      md5: 20bd69dfafdbb5c6498e51dfb1b39152
      size: 6516
    outs:
    - path: data/clean/steel_energy_clean.csv
      hash: md5
      md5: f261b2ee44355b2583c1569800ee9c86
      size: 3458805
  train:
    cmd: python src/models/train_model.py data/clean/steel_energy_clean.csv 
      models/best_rf_model.joblib reports/figures
    deps:
    - path: data/clean/steel_energy_clean.csv
      hash: md5
      md5: 5f113c44c273d729d64539aabc74e7d8
      size: 3423392
      isexec: true
    - path: src/models/train_model.py
      hash: md5
      md5: 5a4273330d08bf72abbf4100659569b1
      size: 21724
      isexec: true
    outs:
    - path: models/best_rf_model.joblib
      hash: md5
      md5: 82ce381f9704964d5c2d9a91f9540ab2
      size: 28221508
      isexec: true
    - path: reports/figures
      hash: md5
      md5: ff87835782d7d575f65215798ecd9694.dir
      size: 139511
      nfiles: 5
  predict:
    cmd: python src/models/predict_model.py data/clean/steel_energy_clean.csv 
      models/best_rf_model.joblib reports/predictions.csv reports/metrics.json 
      reports/figures
    deps:
    - path: data/clean/steel_energy_clean.csv
      hash: md5
      md5: 5f113c44c273d729d64539aabc74e7d8
      size: 3423392
      isexec: true
    - path: models/best_rf_model.joblib
      hash: md5
      md5: 82ce381f9704964d5c2d9a91f9540ab2
      size: 28221508
      isexec: true
    - path: src/models/predict_model.py
      hash: md5
      md5: f97740180738b2697ceaf95568fb8353
      size: 6551
      isexec: true
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: 4751ae48c871df3576460f1d8bb83837
      size: 914
      isexec: true
    - path: reports/predictions.csv
      hash: md5
      md5: 9e7e97ff6b6a2fedc2c624d4928d80e9
      size: 5364763
      isexec: true
  evaluate:
    cmd: python src/models/evaluate_drift.py data/clean/steel_energy_clean.csv 
      data/clean/steel_energy_clean.csv Usage_kWh models/best_rf_model.joblib 
      reports/
    deps:
    - path: data/clean/steel_energy_clean.csv
      hash: md5
      md5: 5f113c44c273d729d64539aabc74e7d8
      size: 3423392
      isexec: true
    - path: models/best_rf_model.joblib
      hash: md5
      md5: 82ce381f9704964d5c2d9a91f9540ab2
      size: 28221508
      isexec: true
    - path: src/models/evaluate_drift.py
      hash: md5
      md5: ec42f857627d1826b21d8d9477123dca
      size: 7620
    outs:
    - path: reports/kde_plot_evaluate_Usage_kWh.png
      hash: md5
      md5: 9fbdbb50930446a9fbce909ca4f4f528
      size: 33486
  simulate:
    cmd: python src/models/evaluate_drift.py data/clean/steel_energy_clean.csv 
      data/clean/steel_energy_clean.csv Usage_kWh models/best_rf_model.joblib 
      reports/ True
    deps:
    - path: data/clean/steel_energy_clean.csv
      hash: md5
      md5: 5f113c44c273d729d64539aabc74e7d8
      size: 3423392
      isexec: true
    - path: models/best_rf_model.joblib
      hash: md5
      md5: 82ce381f9704964d5c2d9a91f9540ab2
      size: 28221508
      isexec: true
    - path: src/models/evaluate_drift.py
      hash: md5
      md5: ec42f857627d1826b21d8d9477123dca
      size: 7620
  monitor:
    cmd: python src/monitoring/monitor_data.py
    deps:
    - path: data/clean/steel_energy_clean.csv
      hash: md5
      md5: f261b2ee44355b2583c1569800ee9c86
      size: 3458805
    - path: src/monitoring/monitor_data.py
      hash: md5
      md5: 0b8abc478629bb4742a44657d974fe96
      size: 797
    outs:
    - path: reports/monitoring/data_drift_report.html
      hash: md5
      md5: 50ddbb97a8c4744f7ab65c1b40ed8bcd
      size: 10058259
